src_raw_files:
  - "/mnt/user/appdata"
backup_tmp_dir: "/mnt/user/Backup/ansibletemp/"
backup_name: "Docker"
backup_description: "Automatic Docker Backup"
backup_subtype: "Appdata"
backup_file: "backup_docker_appdata_{{ ansible_date_time.date }}.tar.gz"

# Containers to keep running during backup (never stopped/started)
backup_exclude_containers:
  - ansible
  - semaphore
  - mariadb

# Update vars
update_name: "Docker"
update_description: "Automatic Docker Container Update"
update_subtype: "Container"
update_delay_days: 3
update_exclude_containers:
  - semaphore
  - mariadb
  - ansible

# Restore support â€” maps app names to containers, DB config, and DB host.
# Used by restore_hosts.yaml for selective and coordinated DB+appdata restore.
app_restore:
  sonarr:
    containers: ["sonarr"]
    db_config_file: db_primary_postgres
    db_host: "{{ db_host_primary }}"
    db_names: ["sonarr-log", "sonarr-main"]
  radarr:
    containers: ["radarr"]
    db_config_file: db_primary_postgres
    db_host: "{{ db_host_primary }}"
    db_names: ["radarr-log", "radarr-main"]
  prowlarr:
    containers: ["prowlarr"]
    db_config_file: db_primary_postgres
    db_host: "{{ db_host_primary }}"
    db_names: ["prowlarr-log", "prowlarr-main"]
  nextcloud:
    containers: ["nextcloud"]
    db_config_file: db_primary_mariadb
    db_host: "{{ db_host_primary }}"
    db_names: ["nextcloud"]
  immich:
    containers: ["immich-server", "immich-machine-learning"]
    db_config_file: db_secondary_postgres
    db_host: "{{ db_host_secondary }}"
    db_names: ["immich"]
