# vars/secrets.yaml.example — expected vault keys
# Copy this file to vars/secrets.yaml, fill in your values, then encrypt:
#   cp vars/secrets.yaml.example vars/secrets.yaml
#   ansible-vault encrypt vars/secrets.yaml
#
# To edit later:  ansible-vault edit vars/secrets.yaml
# To view:        ansible-vault view vars/secrets.yaml

# Discord webhook — used by all playbook notifications
# Create a webhook in your Discord server: Server Settings → Integrations → Webhooks
# The webhook URL format is: https://discord.com/api/webhooks/{id}/{token}
discord_webhook_id: ""
discord_webhook_token: ""

# MariaDB logging database credentials
# The ansible_logging database stores all backup/update/maintenance/health records
logging_db_host: "10.0.0.1"
logging_db_port: 3306
logging_db_user: "ansible"
logging_db_password: ""
logging_db_name: "ansible_logging"

# Domain suffixes for hostname normalization and URL construction
# Internal: used to match inventory_hostname (e.g., "home.local")
# External: used to build clickable URLs in Discord embeds (e.g., "example.com")
logging_domain_local: "home.local"
logging_domain_ext: "example.com"

# Semaphore API — used by maintain_health.yaml to check for failed tasks
# Generate a token in Semaphore: User menu → API Tokens
semaphore_api_token: ""

# Semaphore internal URL — used for API calls (not exposed externally)
# This should be the IP/port Semaphore listens on, reachable from the Ansible controller
semaphore_host_url: "http://10.0.0.1:3000"

# Controller hostname — short hostname of the Semaphore controller (used to build controller_fqdn)
controller_hostname: "mycontroller"

# DB host FQDNs — used by restore playbooks for cross-host delegate_to
# These are the inventory_hostname values of hosts running DB containers
db_host_primary: "dbhost1.home.local"
db_host_secondary: "dbhost2.home.local"

# --- Optional: only needed if using specific playbooks ---

# MeTube Discord webhook — separate channel for per-video download notifications
# Only needed if using download_videos.yaml
# metube_webhook_id: ""
# metube_webhook_token: ""

# Unifi Protect API key — only needed if backing up a UNVR via backup_hosts.yaml
# unvr_api_key: ""

# SSH public key for the ansible user — only needed if using add_ansible_user.yaml
# ansible_user_ssh_pubkey: "ssh-ed25519 AAAA..."

# Home Assistant — only needed if using backup_offline.yaml
# ha_url: "http://10.0.0.10:8123"
# ha_bearer_token: ""
# ha_dsm_automation: "automation.backup_synology_dsm"
# ha_shutdown_button: "button.synology_shutdown"

# Synology NAS credentials — only needed if using backup_offline.yaml
# synology_ip: "10.0.0.50"
# synology_mac: "AA:BB:CC:DD:EE:FF"
# synology_name: "synology"

# VPS FQDN — only needed if using maintain_unifi.yaml with external VPS
# vps_fqdn: "vps.example.com"

# Grafana API — only needed if using deploy_grafana.yaml
# Create a service account in Grafana (Administration → Service Accounts) with Editor role.
# Generate a token and paste it here. The URL must be reachable from the Semaphore controller.
# grafana_url: "http://grafana-host:3000"
# grafana_service_account_token: ""

# Uptime Kuma push URL — only needed if using REL-3 dead man's switch monitoring
# Set up a Push monitor in Uptime Kuma, copy the push URL here
# uptime_kuma_push_url: "https://uptime.example.com/api/push/xxxx"

# --- Phase 3: Docker stack secrets (deploy_stacks.yaml) ---
# These are referenced in stacks/*/env.j2 templates.
# Values come from the current .env files on each host.

# Database passwords — per-engine, split from shared credentials.
# During migration: set to same value as existing DB password.
# After stable: rotate independently.
# docker_mariadb_password: ""
# docker_postgres_password: ""

# Authentik (auth stack)
# docker_authentik_secret_key: ""

# Email (auth stack — Authentik SMTP)
# docker_email_host and docker_email_port are in vars/docker_stacks.yaml (not secrets)
# docker_email_username: ""
# docker_email_password: ""
# docker_email: ""

# Cloudflare (auth stack — SWAG DNS validation, apps stack — DDNS)
# docker_cloudflare_api_key: ""

# CrowdSec (auth stack — SWAG bouncer)
# docker_crowdsec_api_key: ""

# MaxMind GeoIP (auth stack — SWAG mod)
# docker_maxmind_license_key: ""
# docker_maxmind_user_id: ""

# Grafana OAuth (monitoring stack)
# docker_grafana_admin_password: ""
# docker_grafana_oauth_client_id: ""
# docker_grafana_oauth_client_secret: ""

# Beszel SSH key (infra stack, vpn stack — agent monitoring)
# docker_beszel_key: "ssh-ed25519 AAAA..."

# --- Phase 3: VM provisioning secrets (build_ubuntu.yaml) ---
# Proxmox API credentials for community.general.proxmox_kvm
# Create an API token in Proxmox: Datacenter → API Tokens

# pve_api_host: "10.0.0.1"
# pve_api_user: "root@pam"
# pve_api_token_id: "ansible"
# pve_api_token_secret: ""
# vm_password: ""
