# db_password is in vars/secrets.yaml (vault)
backup_stack: databases
backup_name: "Database"
backup_url: "https://sql.{{ domain_ext }}"
backup_description: "Automatic Database Backup"
backup_subtype: "Database"
backup_ext: "sql"
backup_file: "backup_{{ item }}_{{ ansible_date_time.date }}.sql"
db_username: "postgres"
db_container_name: "postgres"
db_names:
  - "authentik"
  - "jellyseerr"
  - "prowlarr-log"
  - "prowlarr-main"
  - "radarr-log"
  - "radarr-main"
  - "sonarr-log"
  - "sonarr-main"
is_postgres: true

# Restore support — maps each DB to dependent containers ON THE SAME HOST as postgres.
# Cross-host deps (app on a different host) are [] — use restore_hosts.yaml -e with_databases=yes.
db_container_deps:
  authentik: ["authentik", "authentik_worker"]
  jellyseerr: []
  prowlarr-log: []
  prowlarr-main: []
  radarr-log: []
  radarr-main: []
  sonarr-log: []
  sonarr-main: []
